<html>
<head>
	<title>My Test Extension Options</title>
	
	<style type="text/css">
	body{
		font: 10pt Arial;
	}
	
	h3{
		margin: 5px 0 5px 0;
	}
	
	#info{
		background: whitesmoke;
		width: 500px;
		padding: 0px 10px;
		margin-bottom: 10px;
		border: 1px solid #eee;
	}
	
	p{
		margin: 12px 0;
	}
	</style>
	
<script type="text/javascript">
/*
FR : Coche la case Texte (text) ou HTML (html)
EN : Checks the Text or HTML checkbox
*/
function cocher(option){
	var f_text = document.getElementById("f_text");
	var f_html = document.getElementById("f_html");
	
	if(option == 'html'){
		f_text.checked = false;
		f_html.checked = true;
	}
	else{
		f_html.checked = false;
		f_text.checked = true;
	}
}

function init_form(){
	var actuel = document.getElementById("actuel");
	var f_text = document.getElementById("f_text");
	var f_html = document.getElementById("f_html");
	var format = localStorage["format"];
	var defaut = 'text';
	
	actuel.innerHTML = '';
	actuel.innerHTML = format;
	
	if(!format){
		tmp = defaut;
	}
	else{
		tmp = format;
	}
	cocher(tmp);
}

/*
FR : Efface vos pr閒閞ences (format)
EN : Delete options
*/
function reset_options(){
	delete(localStorage["format"]);
	init_form();
}

/*
FR : Sauvegarde les pr閒閞ences
EN : Store options into localStorage
*/
function save_options(){
	var form_format;
	var f_text = document.getElementById("f_text");
	var f_html = document.getElementById("f_html");
	
	if(f_html.checked)
		form_format = 'html';
	else
		form_format = 'text';
	
	localStorage["format"] = form_format;
	
	init_form();
}

window.onload = function(){
	init_form();
}
</script>
	
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>



<body>

<h1>Copy All URLs for Google Chrome - preferences panel</h1>

<div id="info">
<p>If you have any suggestion about this plugin, you can mail me at <a href="mailto:taoanton@gmail.com">taoanton@gmail.com</a>.

<p>You can also visit my website : <a href="http://www.finalclap.com/">www.finalclap.com</a><br/>
It's about <b>motion graphics</b>, baby !</p>
</p>
<hr/>
<p>Si vous souhaitez proposer une am閘ioration pour ce plugin, vous pouvez m'envoyer un email ?: <a href="mailto:taoanton@gmail.com">taoanton@gmail.com</a>.</p>

</div>

Actual : <span id="actuel"></span>

<br/>

<h3>Format :</h3>
<input type="radio" name="format" id="f_text" value="text" /> Text<br/>
<input type="radio" name="format" id="f_html" value="html" checked="checked" /> HTML<br/>

<br/>

<button onClick="save_options()">Save</button>
<button onClick="reset_options()">Reset</button>

</body>
</html>